<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel= "stylesheet" href ="Poppins-SemiBold.ttf">
    <link rel="stylesheet" type="text/css" href="/login.css">

    <title>$gatewayname Captive Portal.</title>
</head>

<body>
    <div class = 'container'>
    <div class='row'>
        <div class="col-lg-12 logo mr-5 mt-5">
            <img src="./wicrypt.png" alt='logo' />
        </div>

        <div class='col-lg-6 mb-3 welcome'>
            Welcome to 
            GTBank 
            Internet service.
            
            <div class="slide-wrap mt-5 slideDesk">
                <div class="slider">

                    <img class=" slide" id='slide1' src="./AdSpace.png">
                    <img class=" slide" id='slide2' src="./AdSpace.png">
                    <img class=" slide" id='slide3' src="./AdSpace.png">
                </div>
                <a href="#slide1"></a>
                <a href="#slide2"> </a>
                <a href="#slide3"></a>

            </div>
           

        </div>

      
        <div class="col-lg-4">
            <div class="card card-small card-post card-post--1">

                <div class="card-body">

                    <h5 class="card-title mb-3">
                        <div class="text-fiord-blue cardHeading ">Login</div>
                    </h5>
                    <p class='wicryptmsg'> Enter your wicrypt email address, and router code to login.</p>

                    <label> Email address</label>
                    <p class="labelSub"> Enter Email address</p>
                    <div class="input-group mb-3">

                        <input id="wicryptEmail" type="email" class="form-control loginCred" aria-label="Username"
                            aria-describedby="basic-addon1" />

                    </div>
                    <label> Router code</label>
                    <p class="labelSub"> Enter router code </p>
                    <div class="input-group mb-3">

                        <input type="password" class="form-control loginCred" id='routerCode' aria-label="Username"
                            aria-describedby="basic-addon1" />

                    </div>
                    
                    <p id='err' class='errorMsgs' style= 'display: none'> </p>

                    <div class='loginBtn'>
                        <button class=" btn btn-primary wicryptColor clickLogin "  id="login">
                            Login
                        </button>
                    </div> 
                    <div id= 'mobile' class="mobileDiv">
                        
                    </div>

                </div>

            </div>
        </div>
       
        <div class="col-lg-6 mt-5 slideMobile">
            <div class="slide-wrap">
                <div class="slider mb-3">

                    <img class=" slide" id='slide1' src="./AdSpace.png">
                    <img class=" slide" id='slide2' src="./AdSpace.png">
                    <img class=" slide" id='slide3' src="./AdSpace.png">
                </div>
                <a href="#slide1"></a>
                <a href="#slide2"> </a>
                <a href="#slide3"></a>

            </div>

        </div>
        
        <div class="col-lg-12 footer">
            <div class="col-lg-6">
                <p class="download"> Download Wicrypt App</p>
                <div class="appDownloads">
                    <img height="30px" src="/appStore.svg"/>
                    <img height="30px" src="/playStore.svg"/>
                </div>
            </div>
            <div class="col-lg-6">
                <p class="poweredBy"> Powered by <img src="wicrypt.png" height='30px' /></p>
            </div>
        </div>
    </div>

    <script>
        var email = document.getElementById("wicryptEmail")
        var login = document.getElementById("login")
        var routerCode = document.getElementById('routerCode')
        var err = document.getElementById('err')
        var code = ''
        var userEmail = ''
       
        // Checking for device type
            var isIphone = /iPhone|iPad|iPod/i.test(navigator.userAgent)
            var isMobile = /Android/i.test(navigator.userAgent);
            var element = document.getElementById('mobile');
            if (isMobile) {
                element.innerHTML =  `<div>
                    <p class='or'> or </p>
                    <p class='fromApp'>  Login from app <img src="/arrow.svg" class="arrow"/>  </p>
                    <p class="fromAppFade"> Login to the router from the wicrypt app</p>
                </div>`
            } else
            if(isIphone)
            {
                element.innerHTML =  `<div>
                    <p class='or'> or </p>
                    <p class='fromApp'> Login from app <img src="/arrow.svg" class="arrow"/> </p>
                    <p class="fromAppFade"> Login to the router from the wicrypt app</p>
                </div>`
            }else{
                element.innerHTML = ''
            }
        
            //Validating Login
            email.addEventListener("change", function(){
                userEmail = email.value     
            });
            
            routerCode.addEventListener("change", function(){
                code = routerCode.value
            });

            login.addEventListener("click", function(){
                let checkEmail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                if(userEmail == '' || code.length == 0){
                    err.innerHTML = 'Email and Code are required'
                    err.style.display = 'block'
                }else
                if(!checkEmail.test(userEmail)){
                    err.innerHTML = 'Email verification failed'
                    err.style.display = 'block'
                }else 
                if(code.length !== 6  ){
                    err.innerHTML = 'Router code must be equal to 6'
                    err.style.display = 'block'
                }else{
                    login.innerHTML = "Logging In..."
                    login.setAttribute('disabled', true)
                    login.classList.add('disabled')
                }
                
            });
    </script>

    </div>
</body>

</html>